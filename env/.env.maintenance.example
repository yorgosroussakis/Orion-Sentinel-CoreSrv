# Maintenance Stack Configuration
# Homepage + Watchtower + Autoheal + Media Cleanup Tools

# ============================================================================
# USER/GROUP & TIMEZONE
# ============================================================================
PUID=1000
PGID=1000
TZ=Europe/Amsterdam

# ============================================================================
# HOST DIRECTORY LAYOUT
# ============================================================================
CONFIG_ROOT=/srv/orion/config
DATA_ROOT=/srv/orion/data

# ============================================================================
# HOMEPAGE DASHBOARD
# ============================================================================
# Homepage is the central "mission control" dashboard for your home lab

# Title of your dashboard
HOMEPAGE_TITLE=Orion Dell Hub

# ============================================================================
# WATCHTOWER (Automatic container updates)
# ============================================================================
# WARNING: Only enable Watchtower after your stack is stable and tested!
# Automatic updates can break things if not carefully managed.

# Enable/disable Watchtower (true/false)
WATCHTOWER_ENABLED=false

# Update schedule (cron format)
# Default: Every Sunday at 3 AM
WATCHTOWER_SCHEDULE=0 0 3 * * 0

# Cleanup old images after update
WATCHTOWER_CLEANUP=true

# Update notifications (optional - requires notification service)
# Options: email, slack, msteams, gotify, etc.
# See: https://containrrr.dev/watchtower/notifications/
WATCHTOWER_NOTIFICATION_URL=

# Watchtower scope (monitor-only or include-stopped)
# Default: monitor-only (only update running containers)
WATCHTOWER_INCLUDE_STOPPED=false

# ============================================================================
# AUTOHEAL
# ============================================================================
# Autoheal automatically restarts containers that fail health checks

# Interval to check for unhealthy containers (seconds)
AUTOHEAL_INTERVAL=60

# Container start period (grace time before marking as unhealthy)
AUTOHEAL_START_PERIOD=0

# Default timeout for health checks
AUTOHEAL_DEFAULT_STOP_TIMEOUT=10

# ============================================================================
# CLEANUPARR (Media cleanup - Radarr)
# ============================================================================
# Cleanuparr removes media files from Radarr based on defined rules
# (e.g., watched movies, low-quality releases, disk space thresholds)

# Enable/disable Cleanuparr
CLEANUPARR_ENABLED=false

# Radarr connection
CLEANUPARR_RADARR_URL=http://radarr:7878
CLEANUPARR_RADARR_API_KEY=${RADARR_API_KEY}

# ============================================================================
# DECLUTTARR (Media cleanup - Sonarr)
# ============================================================================
# Decluttarr removes media files from Sonarr based on defined rules
# (e.g., watched episodes, ended series, disk space thresholds)

# Enable/disable Decluttarr
DECLUTTARR_ENABLED=false

# Sonarr connection
DECLUTTARR_SONARR_URL=http://sonarr:8989
DECLUTTARR_SONARR_API_KEY=${SONARR_API_KEY}

# ============================================================================
# UNPACKERR (Automatic extraction of downloads)
# ============================================================================
# Unpackerr automatically extracts compressed downloads for *arr apps

# Enable/disable Unpackerr
UNPACKERR_ENABLED=false

# Sonarr/Radarr integration (uses same API keys as above)
UNPACKERR_SONARR_URL=http://sonarr:8989
UNPACKERR_RADARR_URL=http://radarr:7878

# ============================================================================
# USAGE RECOMMENDATIONS
# ============================================================================
# 1. Start with all automatic tools DISABLED (except Autoheal)
# 2. Manually test and stabilize your media stack first
# 3. Enable Autoheal to restart failed containers
# 4. After 2-4 weeks of stable operation:
#    - Consider enabling Unpackerr if you download compressed files
#    - Test Cleanuparr/Decluttarr rules in dry-run mode first
#    - Only enable Watchtower if you're comfortable with automatic updates
# 5. Monitor Homepage dashboard to track service health
