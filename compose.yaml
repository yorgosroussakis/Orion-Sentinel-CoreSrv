# Orion-Sentinel-CoreSrv - Root Compose File
# Dell deployment with Traefik reverse proxy
#
# Usage:
#   Use orionctl to manage stacks:
#     ./scripts/orionctl up ingress
#     ./scripts/orionctl up observability
#     ./scripts/orionctl up home
#     ./scripts/orionctl up apps
#     ./scripts/orionctl up portal
#
#   Or start all at once:
#     ./scripts/orionctl up all
#
# Documentation: See README.md for full setup instructions

# This file defines shared networks used by all stacks
# Individual stacks are in stacks/<name>/stack.yaml

# Include all stack files (Docker Compose v2.20+)
include:
  - path: stacks/ingress/traefik.yaml
    env_file: .env
  - path: stacks/observability/stack.yaml
    env_file: .env
  - path: stacks/observability/netmap/compose.yml
    env_file: .env
  - path: stacks/home/stack.yaml
    env_file: .env
  - path: stacks/apps/stack.yaml
    env_file: .env
  - path: stacks/apps/firefly/compose.yml
    env_file: .env
  - path: stacks/cloud/nextcloud/compose.yml
    env_file: .env
  - path: stacks/portal/stack.yaml
    env_file: .env

# The orion_proxy network is created by the ingress stack (traefik.yaml)
# Other networks are created by their respective stacks as needed

