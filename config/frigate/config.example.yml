# ============================================================================
# Frigate NVR Configuration Template - Orion-Sentinel-CoreSrv
# ============================================================================
#
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp config.example.yml config.yml
# 2. Replace placeholder values:
#    - RTSP_USER: Camera account username (from Tapo app Camera Account)
#    - RTSP_PASS: Camera account password
#    - Camera IPs: 192.168.10.11 through 192.168.10.17 (or your actual IPs)
# 3. Adjust camera names and locations as needed
#
# TAPO CAMERA SETUP:
#   Open Tapo app → Camera Settings → Advanced Settings → Camera Account
#   Create a username and password (this is separate from your Tapo account)
#
# RTSP URL FORMAT:
#   - High quality (1080p): rtsp://USER:PASS@IP:554/stream1
#   - Low quality (360p):   rtsp://USER:PASS@IP:554/stream2
#
# For more options: https://docs.frigate.video/configuration/
# ============================================================================

# MQTT (optional - enables Home Assistant integration)
mqtt:
  enabled: false
  # Uncomment to enable MQTT:
  # host: orion_mosquitto
  # port: 1883
  # user: frigate
  # password: your_mqtt_password

# Object detection (CPU by default)
detectors:
  cpu1:
    type: cpu
    num_threads: 2
  # Coral TPU (uncomment to enable):
  # coral:
  #   type: edgetpu
  #   device: usb

# Recording settings - Event-only recording (no continuous 24/7 footage)
record:
  enabled: true
  # Do not keep non-event recordings
  retain:
    days: 0
    mode: motion
  # Event recording settings
  events:
    pre_capture: 5        # seconds before event
    post_capture: 10      # seconds after event
    objects:
      - person
      - car
      - dog
      - cat
    retain:
      default: 14         # keep event clips on primary storage for 14 days
      mode: active_objects

# Snapshot settings
snapshots:
  enabled: true
  retain:
    default: 14

# Detection settings
detect:
  enabled: true
  fps: 5
  width: 1280
  height: 720

# Objects to detect
objects:
  track:
    - person
    - car
    - dog
    - cat

# ============================================================================
# CAMERAS - 7 Camera Configuration Template
# ============================================================================
# Replace RTSP_USER, RTSP_PASS, and IP addresses with your actual values.
#
# Suggested IP scheme (adjust to your network):
#   cam1_living_room: 192.168.10.11
#   cam2_kitchen:     192.168.10.12
#   cam3_hallway:     192.168.10.13
#   cam4_kids_room:   192.168.10.14
#   cam5_office:      192.168.10.15
#   cam6_backyard:    192.168.10.16
#   cam7_front_door:  192.168.10.17

cameras:
  # ---- CAMERA 1: LIVING ROOM ----
  cam1_living_room:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_1:554/stream1
          roles:
            - record
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_1:554/stream2
          roles:
            - detect
    detect:
      width: 640
      height: 360
      fps: 5

  # ---- CAMERA 2: KITCHEN ----
  cam2_kitchen:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_2:554/stream1
          roles:
            - record
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_2:554/stream2
          roles:
            - detect
    detect:
      width: 640
      height: 360
      fps: 5

  # ---- CAMERA 3: HALLWAY ----
  cam3_hallway:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_3:554/stream1
          roles:
            - record
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_3:554/stream2
          roles:
            - detect
    detect:
      width: 640
      height: 360
      fps: 5

  # ---- CAMERA 4: KIDS ROOM ----
  cam4_kids_room:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_4:554/stream1
          roles:
            - record
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_4:554/stream2
          roles:
            - detect
    detect:
      width: 640
      height: 360
      fps: 5

  # ---- CAMERA 5: OFFICE ----
  cam5_office:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_5:554/stream1
          roles:
            - record
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_5:554/stream2
          roles:
            - detect
    detect:
      width: 640
      height: 360
      fps: 5

  # ---- CAMERA 6: BACKYARD ----
  cam6_backyard:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_6:554/stream1
          roles:
            - record
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_6:554/stream2
          roles:
            - detect
    detect:
      width: 640
      height: 360
      fps: 5

  # ---- CAMERA 7: FRONT DOOR ----
  cam7_front_door:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_7:554/stream1
          roles:
            - record
        - path: rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_7:554/stream2
          roles:
            - detect
    detect:
      width: 640
      height: 360
      fps: 5

# RTSP restreaming
go2rtc:
  streams:
    cam1_living_room:
      - rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_1:554/stream1
    cam2_kitchen:
      - rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_2:554/stream1
    cam3_hallway:
      - rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_3:554/stream1
    cam4_kids_room:
      - rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_4:554/stream1
    cam5_office:
      - rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_5:554/stream1
    cam6_backyard:
      - rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_6:554/stream1
    cam7_front_door:
      - rtsp://RTSP_USER:RTSP_PASS@CAMERA_IP_7:554/stream1

# Multi-camera overview
birdseye:
  enabled: true
  mode: continuous

# Logging
logger:
  default: info
